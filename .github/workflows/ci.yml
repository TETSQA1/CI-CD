name: API Automation Daily

on:
  schedule:
    - cron: '0 12 * * *'   # Runs every day at 12 PM UTC
  workflow_dispatch:        # Allows manual run

jobs:
  run-api-script:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repo
      uses: actions/checkout@v4

    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 18   # If Node.js, change for Python

    - name: Install dependencies
      run: npm install      # Only if needed

    - name: Run API automation script
      run: node scripts/api_automation.js   # Or python scripts/api_automation.py

    - name: Save results
      run: mkdir -p results
